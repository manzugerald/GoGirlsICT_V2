{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/app/%28admin%29/admin/dashboard/createUserForm.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype Props = {\r\n  mode?: \"create\" | \"edit\";\r\n  userId?: string;\r\n  initialData?: any; // for edit: {firstName, lastName, username, email, image, ...}\r\n  onSuccess?: () => void;\r\n  onCancel?: () => void;\r\n  onDelete?: (userId: string) => void;\r\n};\r\n\r\nfunction getCameFrom() {\r\n  if (typeof window !== \"undefined\") {\r\n    return sessionStorage.getItem('came-from') || \"/\";\r\n  }\r\n  return \"/\";\r\n}\r\n\r\nexport default function CreateOrEditUserForm({\r\n  mode = \"create\",\r\n  userId,\r\n  initialData,\r\n  onSuccess,\r\n  onCancel,\r\n  onDelete,\r\n}: Props) {\r\n  //Defensive: don't even render the form if edit mode and userId is missing\r\n  if (mode === \"edit\" && !userId) {\r\n    //optionally: log an error, show a message, or just return null\r\n    return <div className=\"text-red-500 text-center\">User ID missing. Cannot edit user</div>\r\n  }\r\n\r\n  // Always allow editing all fields in both modes\r\n  const [form, setForm] = useState({\r\n    firstName: initialData?.firstName || \"\",\r\n    lastName: initialData?.lastName || \"\",\r\n    username: initialData?.username || \"\",\r\n    email: initialData?.email || \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imageUrl, setImageUrl] = useState<string>(initialData?.image || \"\");\r\n  const [imagePreview, setImagePreview] = useState<string | null>(initialData?.image || null);\r\n  const [imageToDelete, setImageToDelete] = useState<string | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [checkingUsername, setCheckingUsername] = useState(false);\r\n  const [usernameInvalid, setUsernameInvalid] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [registerDot, setRegisterDot] = useState(0);\r\n\r\n  const router = useRouter();\r\n\r\n  // When initialData changes, update form fields and image preview (including edit mode)\r\n  useEffect(() => {\r\n    setForm({\r\n      firstName: initialData?.firstName || \"\",\r\n      lastName: initialData?.lastName || \"\",\r\n      username: initialData?.username || \"\",\r\n      email: initialData?.email || \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    });\r\n    setImageUrl(initialData?.image || \"\");\r\n    setImagePreview(initialData?.image || null);\r\n    setImageFile(null);\r\n    setImageToDelete(null);\r\n  }, [initialData]);\r\n\r\n  // Username validation for update (must match DB for this userId)\r\n  const handleUsernameBlur = async () => {\r\n    if (form.username && userId && mode === \"edit\") {\r\n      setCheckingUsername(true);\r\n      const res = await fetch(`/api/users/check-exact?userId=${userId}&username=${encodeURIComponent(form.username)}`);\r\n      const data = await res.json();\r\n      setUsernameInvalid(!data.valid);\r\n      setCheckingUsername(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    if (e.target.name === \"username\") setUsernameInvalid(false);\r\n  };\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0] || null;\r\n    if (file) {\r\n      // If editing and old image exists, mark it for deletion\r\n      if (imageUrl) setImageToDelete(imageUrl);\r\n      setImageFile(file);\r\n      setImagePreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleImageDelete = async () => {\r\n    if (imageUrl) setImageToDelete(imageUrl);\r\n    setImageFile(null);\r\n    setImageUrl(\"\");\r\n    setImagePreview(null);\r\n    if (userId && imageUrl) {\r\n      await fetch(\"/api/users/delete-image\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ imageUrl }),\r\n      });\r\n    }\r\n  };\r\n\r\n  // Animated dots for Register/Update button\r\n  useEffect(() => {\r\n    let dotInterval: any;\r\n    if (isSubmitting) {\r\n      dotInterval = setInterval(() => {\r\n        setRegisterDot((prev) => (prev + 1) % 3);\r\n      }, 400);\r\n    } else {\r\n      setRegisterDot(0);\r\n    }\r\n    return () => {\r\n      if (dotInterval) clearInterval(dotInterval);\r\n    };\r\n  }, [isSubmitting]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    setIsSubmitting(true);\r\n\r\n    // --- Validation ---\r\n    if (mode === \"create\") {\r\n      if (\r\n        !form.firstName ||\r\n        !form.lastName ||\r\n        !form.username ||\r\n        !form.email ||\r\n        !form.password ||\r\n        !form.confirmPassword ||\r\n        (!imageFile && !imagePreview)\r\n      ) {\r\n        setError(\"All fields and image are required\");\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n      if (form.password !== form.confirmPassword) {\r\n        setError(\"Passwords do not match\");\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n    } else if (mode === \"edit\") {\r\n      if (form.password && form.password !== form.confirmPassword) {\r\n        setError(\"Passwords do not match\");\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n      if (usernameInvalid) {\r\n        setError(\"The Username is incorrect.\");\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n      // No required fields in edit mode!\r\n      if (!userId) {\r\n        setIsSubmitting(false);\r\n        setError(\"Invalid form mode or missing user ID\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"firstName\", form.firstName);\r\n      formData.append(\"lastName\", form.lastName);\r\n      formData.append(\"email\", form.email);\r\n      formData.append(\"username\", form.username);\r\n      // Only send password fields if they are filled in edit mode\r\n      if (form.password) formData.append(\"password\", form.password);\r\n      if (imageFile) formData.append(\"image\", imageFile);\r\n      if (mode === \"edit\" && imageToDelete) formData.append(\"oldImageUrl\", imageToDelete);\r\n\r\n      let res;\r\n      if (mode === \"edit\") {\r\n        if (!userId) {\r\n          setIsSubmitting(false);\r\n          setError(\"Invalid form mode or missing user ID\");\r\n          return;\r\n        }\r\n        res = await fetch(`/api/users/${userId}`, {\r\n          method: \"PATCH\",\r\n          body: formData,\r\n        });\r\n      } else {\r\n        res = await fetch(\"/api/users\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n      }\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.error || \"Operation failed\");\r\n      setSuccess(mode === \"edit\" ? \"User updated!\" : \"User created!\");\r\n\r\n      if (mode === \"create\") {\r\n        const cameFrom = getCameFrom();\r\n        sessionStorage.removeItem('came-from');\r\n        setTimeout(() => {\r\n          router.push(cameFrom);\r\n        }, 800);\r\n      } else if (onSuccess) {\r\n        onSuccess();\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || \"Something went wrong\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    if (onCancel) onCancel();\r\n    else router.back();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!userId) return;\r\n    if (!window.confirm(\"Are you sure you want to delete this user? This action cannot be undone.\")) return;\r\n    setDeleting(true);\r\n    try {\r\n      const res = await fetch(`/api/users/${userId}`, { method: \"DELETE\" });\r\n      if (!res.ok) {\r\n        const data = await res.json().catch(() => null);\r\n        throw new Error(data?.error || \"Failed to delete user\");\r\n      }\r\n      if (onDelete) onDelete(userId);\r\n      if (onSuccess) onSuccess();\r\n      router.refresh();\r\n      router.push(\"/admin/dashboard\");\r\n    } catch (err: any) {\r\n      setError(err.message || \"Something went wrong\");\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex max-w-lg items-center justify-center mx-auto\">\r\n      <form onSubmit={handleSubmit} className=\"space-y-6 w-full\">\r\n        {/* User Image - On Top, Centered */}\r\n        <div className=\"flex flex-col items-center\">\r\n          {imagePreview ? (\r\n            <div className=\"relative flex flex-col items-center\">\r\n              <img src={imagePreview} alt=\"User\" className=\"w-24 h-24 rounded-full object-cover border mx-auto\" />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center -mt-2 -mr-2\"\r\n                onClick={handleImageDelete}\r\n                title=\"Delete Image\"\r\n              >×</button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"w-24 h-24 rounded-full border flex items-center justify-center mb-2 text-gray-400\">No Image</div>\r\n          )}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n            className=\"mt-2 mb-2 block\"\r\n          />\r\n        </div>\r\n\r\n        {/* First Name and Last Name, same row */}\r\n        <div className=\"flex gap-4\">\r\n          <input\r\n            name=\"firstName\"\r\n            placeholder=\"First Name\"\r\n            value={form.firstName}\r\n            onChange={handleChange}\r\n            className=\"border p-2 rounded w-1/2\"\r\n          />\r\n          <input\r\n            name=\"lastName\"\r\n            placeholder=\"Last Name\"\r\n            value={form.lastName}\r\n            onChange={handleChange}\r\n            className=\"border p-2 rounded w-1/2\"\r\n          />\r\n        </div>\r\n\r\n        {/* Username and Email, same row */}\r\n        <div className=\"flex gap-4\">\r\n          <input\r\n            name=\"username\"\r\n            placeholder=\"Username\"\r\n            value={form.username}\r\n            onChange={handleChange}\r\n            onBlur={mode === \"edit\" ? handleUsernameBlur : undefined}\r\n            className={`border p-2 rounded w-1/2 ${usernameInvalid ? \"border-red-500\" : \"\"}`}\r\n            autoComplete=\"off\"\r\n          />\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            className=\"border p-2 rounded w-1/2\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </div>\r\n        {checkingUsername && mode === \"edit\" && <span className=\"text-xs block\">Checking username…</span>}\r\n        {usernameInvalid && mode === \"edit\" && (\r\n          <span className=\"text-xs text-red-500 block\">The Username is incorrect.</span>\r\n        )}\r\n\r\n        {/* Password and Confirm Password, same row */}\r\n        <div className=\"flex gap-4\">\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder={mode === \"edit\" ? \"New Password\" : \"Password\"}\r\n            onChange={handleChange}\r\n            value={form.password}\r\n            className=\"border p-2 rounded w-1/2\"\r\n            autoComplete=\"new-password\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            placeholder={mode === \"edit\" ? \"Confirm New Password\" : \"Confirm Password\"}\r\n            onChange={handleChange}\r\n            value={form.confirmPassword}\r\n            className=\"border p-2 rounded w-1/2\"\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </div>\r\n        {form.password && form.confirmPassword && form.password !== form.confirmPassword && (\r\n          <span className=\"text-xs text-red-500 block\">Passwords do not match</span>\r\n        )}\r\n\r\n        {error && <p className=\"text-red-500 text-sm\">{error}</p>}\r\n        {success && <p className=\"text-green-600 text-sm\">{success}</p>}\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-1/2 bg-green-600 text-white py-2 rounded flex items-center justify-center\"\r\n            disabled={isSubmitting || checkingUsername || usernameInvalid || (form.password && form.password !== form.confirmPassword)}\r\n          >\r\n            {mode === \"edit\" ? \"Update User\" : \"Register\"}\r\n            {isSubmitting && (\r\n              <span className=\"ml-2 flex\">\r\n                {[0,1,2].map(i => (\r\n                  <span key={i} className={`transition-all w-1.5 h-1.5 rounded-full mx-0.5 inline-block ${registerDot === i ? \"bg-white\" : \"bg-green-900 opacity-40\"}`}></span>\r\n                ))}\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleCancel}\r\n            className=\"w-1/2 bg-black text-white py-2 rounded\"\r\n            disabled={deleting}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n        {mode === \"edit\" && userId && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleDelete}\r\n            className=\"w-full bg-red-600 text-white py-2 rounded mt-2\"\r\n            disabled={deleting}\r\n          >\r\n            {deleting ? \"Deleting...\" : \"Delete User\"}\r\n          </button>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}