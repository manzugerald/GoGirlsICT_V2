{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,oKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/app/%28admin%29/admin/dashboard/createBeneficiaryMessageForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Label } from '@/components/ui/label';\r\n\r\nconst publishOptions = ['draft', 'published'] as const;\r\ntype PublishStatus = (typeof publishOptions)[number];\r\n\r\ninterface BeneficiaryMessageInput {\r\n  beneficiaryId: string;\r\n  title: string;\r\n  beneficiaryMessageText: string; // for the text area, always string\r\n  status: PublishStatus;\r\n}\r\n\r\ninterface InitialData {\r\n  id: string;\r\n  beneficiaryId: string;\r\n  title: string;\r\n  beneficiaryMessageText?: unknown; // JSON from API\r\n  status: PublishStatus;\r\n}\r\n\r\nconst s = (v: unknown) => (typeof v === 'string' ? v : '');\r\nconst normalizeId = (v?: string) => (v && v !== 'undefined' && v !== 'null' ? v : '');\r\n\r\nexport default function CreateBeneficiaryMessageForm({\r\n  beneficiaryId,\r\n  editId,\r\n  initialData,\r\n  onSuccess,\r\n  onCancel,\r\n}: {\r\n  beneficiaryId: string;\r\n  editId?: string;\r\n  initialData?: InitialData;\r\n  onSuccess?: () => void;\r\n  onCancel?: () => void;\r\n}) {\r\n  const router = useRouter();\r\n\r\n  // robust edit detection\r\n  const effectiveEditId = useMemo(\r\n    () => normalizeId(editId) || normalizeId(initialData?.id),\r\n    [editId, initialData?.id]\r\n  );\r\n  const isEditing = Boolean(effectiveEditId);\r\n\r\n  const [form, setForm] = useState<BeneficiaryMessageInput>({\r\n    beneficiaryId: s(beneficiaryId),\r\n    title: '',\r\n    beneficiaryMessageText: '',\r\n    status: 'draft',\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingInitial, setLoadingInitial] = useState(isEditing && !initialData);\r\n\r\n  // Stringify any JSON for the input value\r\n  const toText = (msg: unknown) => {\r\n    if (typeof msg === 'string') return msg;\r\n    try {\r\n      return JSON.stringify(msg ?? '', null, 2);\r\n    } catch {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  // Load for edit or set create defaults\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setForm({\r\n        beneficiaryId: s(initialData.beneficiaryId) || s(beneficiaryId),\r\n        title: s(initialData.title),\r\n        beneficiaryMessageText: toText(initialData.beneficiaryMessageText),\r\n        status: initialData.status ?? 'draft',\r\n      });\r\n      setLoadingInitial(false);\r\n      return;\r\n    }\r\n\r\n    if (isEditing && effectiveEditId) {\r\n      setLoadingInitial(true);\r\n      fetch(`/api/beneficiaryMessages/${effectiveEditId}`)\r\n        .then((res) => {\r\n          if (!res.ok) throw new Error('Failed to fetch beneficiary message');\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          setForm({\r\n            beneficiaryId: s(data.beneficiaryId) || s(beneficiaryId),\r\n            title: s(data.title),\r\n            beneficiaryMessageText: toText(data.beneficiaryMessageText),\r\n            status: (publishOptions as readonly string[]).includes(data.status)\r\n              ? (data.status as PublishStatus)\r\n              : 'draft',\r\n          });\r\n        })\r\n        .catch(() => {\r\n          alert('Error loading existing message data.');\r\n        })\r\n        .finally(() => setLoadingInitial(false));\r\n      return;\r\n    }\r\n\r\n    // Create defaults\r\n    setForm({\r\n      beneficiaryId: s(beneficiaryId),\r\n      title: '',\r\n      beneficiaryMessageText: '',\r\n      status: 'draft',\r\n    });\r\n  }, [initialData, isEditing, effectiveEditId, beneficiaryId]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [name]: name === 'status' ? (value as PublishStatus) || 'draft' : s(value),\r\n    }));\r\n  };\r\n\r\n  const handleMessageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setForm((prev) => ({ ...prev, beneficiaryMessageText: s(e.target.value) }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      let messageToSend: unknown = form.beneficiaryMessageText;\r\n      try {\r\n        messageToSend = JSON.parse(form.beneficiaryMessageText);\r\n      } catch {\r\n        // keep as string if not valid JSON\r\n      }\r\n\r\n      const payload = isEditing\r\n        ? {\r\n            title: form.title,\r\n            beneficiaryMessageText: messageToSend,\r\n            status: form.status,\r\n          }\r\n        : {\r\n            beneficiaryId: form.beneficiaryId,\r\n            title: form.title,\r\n            beneficiaryMessageText: messageToSend,\r\n            status: form.status,\r\n          };\r\n\r\n      const url = isEditing\r\n        ? `/api/beneficiaryMessages/${effectiveEditId}`\r\n        : '/api/beneficiaryMessages';\r\n      const method = isEditing ? 'PATCH' : 'POST';\r\n\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const error = await res.json().catch(() => ({}));\r\n        throw new Error(error.error || 'Failed to save beneficiary message');\r\n      }\r\n\r\n      onSuccess ? onSuccess() : router.refresh();\r\n    } catch {\r\n      alert('There was an error saving the beneficiary message.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loadingInitial) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-40\">\r\n        <span className=\"text-gray-600\">Loading...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className=\"max-w-xl mx-auto space-y-6 p-6 bg-background rounded-xl shadow\"\r\n      autoComplete=\"off\"\r\n    >\r\n      <h2 className=\"font-semibold text-xl mb-4\">\r\n        {isEditing ? 'Edit Beneficiary Message' : 'Create Beneficiary Message'}\r\n      </h2>\r\n\r\n      {/* Hidden parent id: used on CREATE only */}\r\n      <Input type=\"hidden\" name=\"beneficiaryId\" value={form.beneficiaryId} />\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"title\">Title</Label>\r\n        <Input id=\"title\" name=\"title\" value={form.title} onChange={handleChange} required />\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"beneficiaryMessageText\">Message (JSON or text)</Label>\r\n        <Input\r\n          id=\"beneficiaryMessageText\"\r\n          name=\"beneficiaryMessageText\"\r\n          value={form.beneficiaryMessageText}\r\n          onChange={handleMessageChange}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"status\">Publish Status</Label>\r\n        <select\r\n          id=\"status\"\r\n          name=\"status\"\r\n          value={form.status ?? 'draft'}\r\n          onChange={handleChange}\r\n          className=\"w-full border border-input rounded-md p-2 text-sm bg-background text-foreground\"\r\n        >\r\n          {publishOptions.map((status) => (\r\n            <option key={status} value={status}>\r\n              {status}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"flex gap-3\">\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={loading || (isEditing && !effectiveEditId)}\r\n          className=\"flex-1 bg-[#9f004d] hover:bg-[#7c003c] text-white\"\r\n        >\r\n          {loading\r\n            ? isEditing\r\n              ? 'Saving...'\r\n              : 'Creating...'\r\n            : isEditing\r\n            ? 'Save Changes'\r\n            : 'Create Message'}\r\n        </Button>\r\n        {onCancel && (\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            className=\"flex-1 border-[#9f004d] text-[#9f004d] hover:bg-[#f5e3ec]\"\r\n            onClick={onCancel}\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/node_modules/%40radix-ui/react-label/src/label.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ComponentRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n"],"names":[],"mappings":";;;;;AAAA,YAAY,WAAW;AACvB,SAAS,iBAAiB;AActB;;;;;AARJ,IAAM,OAAO;AAMb,IAAM,0KAAc,aAAA,EAAqC,CAAC,OAAO,iBAAiB;IAChF,OACE,aAAA,GAAA,CAAA,GAAA,sKAAA,CAAA,MAAA,2KAAC,YAAA,CAAU,KAAA,EAAV;QACE,GAAG,KAAA;QACJ,KAAK;QACL,aAAa,CAAC,UAAU;YAEtB,MAAM,SAAS,MAAM,MAAA;YACrB,IAAI,OAAO,OAAA,CAAQ,iCAAiC,EAAG,CAAA;YAEvD,MAAM,WAAA,GAAc,KAAK;YAEzB,IAAI,CAAC,MAAM,gBAAA,IAAoB,MAAM,MAAA,GAAS,EAAG,CAAA,MAAM,cAAA,CAAe;QACxE;IAAA;AAGN,CAAC;AAED,MAAM,WAAA,GAAc;AAIpB,IAAM,OAAO","ignoreList":[0],"debugId":null}}]
}