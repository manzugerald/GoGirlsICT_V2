{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/app/%28root%29/gallery/components/image-slider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Navigation, Thumbs, Autoplay, Pagination } from 'swiper/modules';\r\nimport 'swiper/css';\r\nimport 'swiper/css/navigation';\r\nimport 'swiper/css/thumbs';\r\nimport 'swiper/css/pagination';\r\nimport '@/assets/styles/custom-swiper.css';\r\n\r\ninterface ProjectImageSliderProps {\r\n  images: string[];\r\n  autoPlay?: boolean;\r\n  delay?: number;\r\n  initialSlide?: number;\r\n}\r\n\r\nexport default function ImageSlider({\r\n  images,\r\n  autoPlay = true,\r\n  delay = 3000,\r\n  initialSlide = 0,\r\n}: ProjectImageSliderProps) {\r\n  const [thumbsSwiper, setThumbsSwiper] = useState<any>(null);\r\n\r\n  return (\r\n    <div className=\"w-full max-w-5xl mx-auto relative mt-0\">\r\n      {/* Main Swiper */}\r\n      <Swiper\r\n        modules={[Navigation, Thumbs, Autoplay, Pagination]}\r\n        navigation\r\n        pagination={{ clickable: true }}\r\n        autoplay={autoPlay ? { delay, disableOnInteraction: false } : false}\r\n        thumbs={{ swiper: thumbsSwiper }}\r\n        className=\"w-full\"\r\n        initialSlide={initialSlide}\r\n        loop // <-- This enables infinite looping!\r\n      >\r\n        {images.map((img, idx) => (\r\n          <SwiperSlide key={idx}>\r\n            <img\r\n              src={img}\r\n              alt={`Slide ${idx}`}\r\n              className=\"w-full h-[70vh] object-cover rounded-lg\"\r\n            />\r\n          </SwiperSlide>\r\n        ))}\r\n      </Swiper>\r\n\r\n      {/* Thumbnail Swiper */}\r\n      <div className=\"mt-4\">\r\n        <Swiper\r\n          modules={[Thumbs]}\r\n          onSwiper={setThumbsSwiper}\r\n          spaceBetween={10}\r\n          slidesPerView={4}\r\n          watchSlidesProgress\r\n          className=\"rounded-md\"\r\n        >\r\n          {images.map((img, idx) => (\r\n            <SwiperSlide key={idx}>\r\n              <img\r\n                src={img}\r\n                alt={`Thumbnail ${idx}`}\r\n                className=\"w-full h-24 object-cover rounded cursor-pointer\"\r\n              />\r\n            </SwiperSlide>\r\n          ))}\r\n        </Swiper>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;;;;;;AAkBe,SAAS,YAAY,EAClC,MAAM,EACN,WAAW,IAAI,EACf,QAAQ,IAAI,EACZ,eAAe,CAAC,EACQ;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAEtD,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,0IAAA,CAAA,SAAM;gBACL,SAAS;oBAAC,yLAAA,CAAA,aAAU;oBAAE,iLAAA,CAAA,SAAM;oBAAE,qLAAA,CAAA,WAAQ;oBAAE,yLAAA,CAAA,aAAU;iBAAC;gBACnD,UAAU;gBACV,YAAY;oBAAE,WAAW;gBAAK;gBAC9B,UAAU,WAAW;oBAAE;oBAAO,sBAAsB;gBAAM,IAAI;gBAC9D,QAAQ;oBAAE,QAAQ;gBAAa;gBAC/B,WAAU;gBACV,cAAc;gBACd,IAAI;0BAEH,OAAO,GAAG,CAAC,CAAC,KAAK,oBAChB,8OAAC,0IAAA,CAAA,cAAW;kCACV,cAAA,8OAAC;4BACC,KAAK;4BACL,KAAK,CAAC,MAAM,EAAE,KAAK;4BACnB,WAAU;;;;;;uBAJI;;;;;;;;;;0BAWtB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0IAAA,CAAA,SAAM;oBACL,SAAS;wBAAC,iLAAA,CAAA,SAAM;qBAAC;oBACjB,UAAU;oBACV,cAAc;oBACd,eAAe;oBACf,mBAAmB;oBACnB,WAAU;8BAET,OAAO,GAAG,CAAC,CAAC,KAAK,oBAChB,8OAAC,0IAAA,CAAA,cAAW;sCACV,cAAA,8OAAC;gCACC,KAAK;gCACL,KAAK,CAAC,UAAU,EAAE,KAAK;gCACvB,WAAU;;;;;;2BAJI;;;;;;;;;;;;;;;;;;;;;AAY9B","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GERALD/Desktop/NEXT/gogirlsict/app/%28root%29/gallery/components/gallerySwiper.tsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Autoplay } from 'swiper/modules';\r\nimport 'swiper/css';\r\nimport 'swiper/css/autoplay';\r\nimport ImageSlider from './image-slider'; // <-- import your slider\r\n\r\nconst fetchGalleryImages = async () => {\r\n  const [projectsRes, reportsRes, eventsRes] = await Promise.all([\r\n    fetch('/api/projects'),\r\n    fetch('/api/reports'),\r\n    fetch('/api/events'),\r\n  ]);\r\n  const [projects, reports, events] = await Promise.all([\r\n    projectsRes.json(),\r\n    reportsRes.json(),\r\n    eventsRes.json(),\r\n  ]);\r\n  const projectImages = (projects ?? []).flatMap((p: any) =>\r\n    (p.images || []).map((img: string) => ({\r\n      src: img,\r\n      alt: p.title ?? 'Project image',\r\n      key: `project-${p.id}-${img}`,\r\n    }))\r\n  );\r\n  const reportImages = (reports ?? []).flatMap((r: any) =>\r\n    (r.images || []).map((img: string) => ({\r\n      src: img,\r\n      alt: r.title ?? 'Report image',\r\n      key: `report-${r.id}-${img}`,\r\n    }))\r\n  );\r\n  const eventImages = (events ?? []).flatMap((e: any) =>\r\n    (e.eventImages || []).map((img: string) => ({\r\n      src: img,\r\n      alt: e.eventTitle ?? 'Event image',\r\n      key: `event-${e.id}-${img}`,\r\n    }))\r\n  );\r\n  return [...projectImages, ...reportImages, ...eventImages];\r\n};\r\n\r\nfunction chunkAndFillArray(arr: any[], chunkSize: number) {\r\n  if (!arr.length) return [];\r\n  let slides = [];\r\n  let start = 0;\r\n  while (start < arr.length) {\r\n    let chunk = arr.slice(start, start + chunkSize);\r\n    if (chunk.length < chunkSize) {\r\n      let deficit = chunkSize - chunk.length;\r\n      chunk = [...chunk, ...arr.slice(0, deficit)];\r\n      while (chunk.length < chunkSize) {\r\n        chunk = [...chunk, ...arr.slice(0, Math.min(deficit, arr.length))];\r\n      }\r\n      chunk = chunk.slice(0, chunkSize);\r\n    }\r\n    slides.push(chunk);\r\n    start += chunkSize;\r\n  }\r\n  if (slides.length === 0 && arr.length > 0) {\r\n    let chunk = [...arr];\r\n    while (chunk.length < chunkSize) {\r\n      chunk = [...chunk, ...arr];\r\n    }\r\n    slides.push(chunk.slice(0, chunkSize));\r\n  }\r\n  return slides;\r\n}\r\n\r\nexport default function GallerySwiper() {\r\n  const [images, setImages] = useState<{ src: string; alt: string; key: string }[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [sliderStartIndex, setSliderStartIndex] = useState(0);\r\n\r\n  const getCols = () => {\r\n    if (typeof window === 'undefined') return 4;\r\n    if (window.innerWidth >= 1280) return 5;\r\n    if (window.innerWidth >= 1024) return 4;\r\n    if (window.innerWidth >= 768) return 3;\r\n    return 2;\r\n  };\r\n\r\n  const [cols, setCols] = useState(getCols());\r\n  useEffect(() => {\r\n    setCols(getCols());\r\n    const handleResize = () => setCols(getCols());\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchGalleryImages()\r\n      .then(setImages)\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const rows = 2;\r\n  const imagesPerSlide = cols * rows;\r\n  const slides = chunkAndFillArray(images, imagesPerSlide);\r\n\r\n  // Prepare the plain array of image srcs for the slider\r\n  const imageSrcs = images.map((img) => img.src);\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center text-xl p-8\">\r\n        Loading gallery...\r\n      </div>\r\n    );\r\n  if (!images.length)\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center text-xl\">No images found.</div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"w-full h-full\">\r\n      <Swiper\r\n        modules={[Autoplay]}\r\n        autoplay={{\r\n          delay: 3500,\r\n          disableOnInteraction: false,\r\n        }}\r\n        loop\r\n        speed={1200}\r\n        className=\"w-full h-full\"\r\n        style={{ width: '100vw', height: '100vh' }}\r\n      >\r\n        {slides.map((slideImages, idx) => (\r\n          <SwiperSlide key={idx}>\r\n            <div\r\n              className=\"w-full h-full grid\"\r\n              style={{\r\n                gridTemplateColumns: `repeat(${cols}, 1fr)`,\r\n                gridAutoRows: '1fr',\r\n                gap: 8,\r\n                height: '100vh',\r\n                padding: 12,\r\n                boxSizing: 'border-box',\r\n              }}\r\n            >\r\n              {slideImages.map((img, i) => {\r\n                // Find the global index of this image in the images array\r\n                const globalIndex = images.findIndex((item) => item.key === img.key);\r\n                return (\r\n                  <div\r\n                    key={img.key + '-' + i}\r\n                    className=\"relative overflow-hidden rounded-lg shadow-md group cursor-pointer\"\r\n                    style={{\r\n                      height: `calc((100vh - ${(rows + 1) * 8 + 24}px) / ${rows})`,\r\n                      background: '#222',\r\n                    }}\r\n                    onClick={() => {\r\n                      setSliderStartIndex(globalIndex);\r\n                      setModalOpen(true);\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={img.src}\r\n                      alt={img.alt}\r\n                      className=\"w-full h-full object-cover object-center transition-transform duration-700 group-hover:scale-105\"\r\n                      loading=\"lazy\"\r\n                    />\r\n                    <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent px-2 py-1 text-xs text-white\">\r\n                      {img.alt}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </SwiperSlide>\r\n        ))}\r\n      </Swiper>\r\n\r\n      {/* Modal for image slider */}\r\n      {modalOpen && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/90\"\r\n          style={{ backdropFilter: 'blur(2px)' }}\r\n        >\r\n          <div className=\"absolute top-4 right-6 z-60\">\r\n            <button\r\n              onClick={() => setModalOpen(false)}\r\n              className=\"text-3xl text-white bg-black/50 rounded-full p-2 hover:bg-black/70 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"w-full max-w-3xl\">\r\n            <ImageSlider\r\n              images={imageSrcs}\r\n              autoPlay={false}\r\n              delay={4000}\r\n              key={sliderStartIndex} // force re-mount when index changes\r\n              // Add a prop for initialSlide if your ImageSlider supports it\r\n              initialSlide={sliderStartIndex}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}